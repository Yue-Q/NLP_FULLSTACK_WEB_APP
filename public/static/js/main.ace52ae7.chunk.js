(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,a){e.exports=a(268)},267:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),l=a(137),c=a(9),s=a(10),u=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"signin",value:function(e){localStorage.setItem("logged_in",!0)}},{key:"isUserAuthenticated",value:function(){return localStorage.getItem("logged_in")}},{key:"signout",value:function(){localStorage.setItem("logged_in",!1)}}]),e}(),m=a(299),d=a(312),p=a(301),h=a(303),f=a(140),g=a(30),b=Object(m.a)(function(e){return Object(d.a)({root:{flexGrow:1}})});function E(){var e=b();return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,{position:"static"},r.a.createElement(h.a,null,r.a.createElement(f.a,{variant:"h6",className:e.title},r.a.createElement(g.b,{style:{textDecoration:"none",cursor:"pointer",color:"white"},to:"/"},"Singularity System Inc. Coding Interview Project")))))}var v=function(e){return r.a.createElement("div",null,r.a.createElement(E,null),e.children)},y=a(24),x=a.n(y),w=a(39),N=a(138),O=a(51),j=a(306),S=a(307),k=a(311),W=a(309),C=a(310),R=a(308),T=a(305),I=a(27),D=a(4),P=a(14),q=a(25),_=a(304),A=a(134),M=a.n(A),L=a(135),H=a.n(L),F=function(e){return fetch(e.url,{method:e.method||"POST",body:JSON.stringify(e.body)||null,headers:{"Content-Type":"application/json"}})},U=Object(D.a)(function(e){return{root:{backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),J=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorLink:{"&:hover":{color:"red",cursor:"context-menu"},fontWeight:600,textDecoration:"underline"},link:{"&:hover":{color:"red",cursor:"context-menu"},textDecoration:"underline"},linksContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},button:{root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}}}});function X(e){var t=J(),a=r.a.useState({password:"",showPassword:!1}),n=Object(O.a)(a,2),o=n[0],i=n[1],l=function(){i(Object(N.a)({},o,{showPassword:!o.showPassword}))},c=function(e){e.preventDefault()},s=function(){var t=Object(w.a)(x.a.mark(function t(a){var n,r;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F({url:"/user/login",method:"POST",body:a});case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).result?(u.signin(),e.history.replace("/predict")):r.error&&alert(r.error);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),m=q.a().shape({password:q.b().required("Required"),userName:q.b().required("Required")});return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:t.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Log In"),r.a.createElement(P.c,{initialValues:{userName:"",password:""},onSubmit:function(){var e=Object(w.a)(x.a.mark(function e(t,a){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.setSubmitting,setTimeout(function(){n(!1)},500),s(t);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:m},function(e){var a=e.submitForm,n=e.isSubmitting;e.touched,e.errors;return r.a.createElement(P.b,{className:t.form},r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",name:"userName",type:"text",label:"Username",autoFocus:!0,fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(_.a,{fullWidth:!0},r.a.createElement(P.a,{component:I.a,variant:"outlined",name:"password",type:o.showPassword?"text":"password",label:"Password",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(R.a,{position:"end"},r.a.createElement(T.a,{onClick:l,onMouseDown:c},o.showPassword?r.a.createElement(M.a,null):r.a.createElement(H.a,null)))}}))),r.a.createElement(U,{variant:"contained",color:"primary",disabled:n,onClick:a,fullWidth:!0,className:t.submit},"Log In"),r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,xs:!0}),r.a.createElement(W.a,{item:!0},r.a.createElement(C.a,{component:g.b,variant:"body2",className:t.errorLink,to:{pathname:"/signup"}},"Don't have an account? Sign Up"))))})))}var Y=a(136),B=a.n(Y),V=Object(D.a)(function(e){return{root:{color:"white",backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),G=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}},button:{root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}}}});function $(){return r.a.createElement(f.a,{component:"h1",variant:"h4"},"Create Your Account")}var z=q.a().shape({firstName:q.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),lastName:q.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),middleName:q.b().max(15,"Too Long!"),email:q.b().required("Required").email("Invalid Email"),phone:q.b().required("Required").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Invalid phone number"),mailAddress:q.b().required("Required"),occupation:q.b().required("Required"),userName:q.b().required("Required"),password:q.b().required("Required")});function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(w.a)(x.a.mark(function e(t){var a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.next=3,F({url:"/user/emailHasRegister",method:"POST",body:n});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.sent.result&&(a="Email already exists!"),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(w.a)(x.a.mark(function e(t){var a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:t},e.next=3,F({url:"/user/usernameHasRegister",method:"POST",body:n});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.sent.result&&(a="Username already exists!"),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e){var t=G(),a=(e.location.state||{from:{pathname:"/"}}).from,n=function(){var t=Object(w.a)(x.a.mark(function t(a){var n;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F({url:"/user/signup",method:"POST",body:a});case 2:return n=t.sent,t.next=5,n.json();case 5:t.sent.result&&(u.signin(),e.history.replace("/predict"));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(S.a,{maxWidth:"xs",className:t.paper},r.a.createElement($,{className:t.formTitle}),r.a.createElement(P.c,{initialValues:{firstName:"",lastName:"",middleName:"",email:"",phone:"",mailAddress:"",occupation:"",userName:"",password:""},validateOnChange:!1,validateOnBlur:!1,onSubmit:function(e,t){var a=t.setSubmitting;setTimeout(function(){a(!1)},500),n(e)},validationSchema:z},function(e){var n=e.submitForm,o=e.isSubmitting;e.touched,e.errors;return r.a.createElement(P.b,{className:t.form},r.a.createElement(B.a,{bottom:!0,cascade:!0},r.a.createElement("div",null,r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",name:"firstName",type:"text",label:"First Name",placeholder:"Tom",autoFocus:!0,fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",name:"middleName",type:"text",label:"Middle Name",placeholder:"M.",fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",name:"lastName",type:"text",label:"Last Name",placeholder:"Smith",fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",type:"email",label:"Email",name:"email",placeholder:"info@singularitysystem.com",fullWidth:!0,validate:K})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",type:"text",label:"Phone Number",name:"phone",placeholder:"9018970908",fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",type:"text",label:"Mail Address",name:"mailAddress",placeholder:"47 W 13th St, New Jesery",fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",type:"text",label:"Occupation",name:"occupation",placeholder:"Student",fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",type:"text",label:"User Name",name:"userName",placeholder:"toms",validate:Z,fullWidth:!0})),r.a.createElement(k.a,{margin:2},r.a.createElement(P.a,{component:I.a,variant:"outlined",type:"text",label:"Password",name:"password",fullWidth:!0})),r.a.createElement(V,{variant:"contained",color:"primary",disabled:o,onClick:n,fullWidth:!0,className:t.submit},"Submit"),r.a.createElement(W.a,{container:!0,style:{justifyContent:"flex-end"}},r.a.createElement(W.a,{item:!0},r.a.createElement(C.a,{component:g.b,to:{pathname:"/login",state:{from:a}},variant:"body2",className:t.link},"Already have an account? Sign In!"))))))}))}var ae=a(21),ne=a(7),re=a(20),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).state={hidden:!0},a.toggle=function(){a.setState(function(e){return{hidden:!e.hidden}})},a}return Object(re.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.prediction?r.a.createElement("div",{className:"pipeline"},r.a.createElement("p",{className:"show",onClick:this.toggle},this.state.hidden?"Show":"Hide"," text processing pipeline ",r.a.createElement("span",{role:"img","aria-label":"Show pipeline"},"\u2b07\ufe0f")),r.a.createElement("div",{className:"output",hidden:this.state.hidden},r.a.createElement("div",null,r.a.createElement("h2",null,"Original text"),this.props.original),r.a.createElement("div",null,r.a.createElement("h2",null,"Preprocessed text"),this.props.preprocessed),r.a.createElement("div",null,r.a.createElement("h2",null,"Pos-tagged text"),this.props.pos_tagged))):null}}]),t}(r.a.Component),ie=(a(267),Object(D.a)(function(e){return{root:{color:"white",backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a)),le=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}},button:{root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}}}});function ce(e){le();return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(ie,null,r.a.createElement(C.a,{href:"/profile"},"Profile")))}var se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).MIN_WORDS=25,a.MAX_WORDS=3500,a.state={text:"",wordsHint:"You have to write at least ".concat(a.MIN_WORDS," words"),loading:!1,error:!1,prediction:null,original:null,pos_tagged:null,preprocessed:null,emoji:!0},a.random=function(){return fetch("/random").then(function(e){return e.json()}).then(function(e){return e.title+"\n\n"+e.text}).then(function(e){return a.setState({text:e,wordsHint:a.getWordsHint(e),prediction:null,original:null,pos_tagged:null,preprocessed:null,emoji:!1})}).catch(function(e){return a.setState({error:!0,emoji:!1})})},a.updateInput=function(e){var t=e.target.value;return a.setState({text:t,prediction:null,wordsHint:a.getWordsHint(t)})},a.getWordsHint=function(e){var t=e.split(/\s/).length;return t<a.MIN_WORDS?"You have to write ".concat(a.MIN_WORDS-t," more words"):t>=a.MIN_WORDS?"You can write up to ".concat(a.MAX_WORDS-t," more words"):void 0},a.predict=function(){a.MAX_WORDS-a.state.text.split(/\s/).length<0||(a.setState({loading:!0,prediction:null}),fetch("/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.text)}).then(function(e){return e.json()}).then(function(e){var t=e.original,n=e.pos_tagged,r=e.preprocessed,o=e.prediction;a.setState({loading:!1,prediction:o,original:t,pos_tagged:n,preprocessed:r})}).catch(function(e){return a.setState({loading:!1,error:!0})}))},a}return Object(re.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(ce,null),r.a.createElement("h1",null,"NLP Fake News Classifier"),r.a.createElement("textarea",{autoFocus:!0,disabled:this.state.loading,value:this.state.text,onChange:this.updateInput}),r.a.createElement("span",{className:"hint"}," ",this.state.wordsHint),r.a.createElement("button",{disabled:this.state.loading,className:"random",onClick:this.random},"Load random News from test dataset ? ",r.a.createElement("span",null,"Click here"),".",r.a.createElement("span",{role:"img",className:"emoji bounce"},this.state.emoji?"\ud83d\udc46\ud83c\udffc":"")),r.a.createElement("button",{disabled:this.state.loading||this.MIN_WORDS-this.state.text.split(/\s/).length>0||this.MAX_WORDS-this.state.text.split(/\s/).length<0,className:"cta",onClick:this.predict}," Predict "),this.state.loading?r.a.createElement("h1",null,"Classifying ..."):"",this.state.error?r.a.createElement("h1",null,"ERROR"):"",r.a.createElement("h1",{className:this.state.prediction},this.state.prediction),r.a.createElement(oe,{prediction:this.state.prediction,original:this.state.original,pos_tagged:this.state.pos_tagged,preprocessed:this.state.preprocessed}))}}]),t}(r.a.Component);i.a.render(r.a.createElement(se,null),document.getElementById("root"));var ue=Object(D.a)(function(e){return{root:{color:"white",backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),me=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},buttonWrappers:{display:"flex",flexDirection:"row",justifyContent:"space-around"},link:{"&:hover":{color:"red",cursor:"context-menu"}}}}),de=function(e){var t=me();return r.a.createElement("container",{maxWidth:"xs",className:t.paper},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to my project!")),r.a.createElement("div",{className:t.buttonWrappers},r.a.createElement(ue,{variant:"contained",fullwidth:!0},r.a.createElement(g.b,{classes:t.link,style:{textDecoration:"none"},to:"/signup"},"Sign Up")),r.a.createElement(ue,{variant:"contained",fullwidth:!0},r.a.createElement(g.b,{classes:t.link,style:{textDecoration:"none"},to:"/login"},"Log In"))))},pe=a(15);function he(){return r.a.createElement(g.a,null,r.a.createElement(v,null,r.a.createElement(pe.d,null,r.a.createElement(pe.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(X,e)}}),r.a.createElement(pe.b,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(te,e)}}),r.a.createElement(fe,{exact:!0,path:"/predict",component:se}),r.a.createElement(pe.b,{path:"/",render:function(e){return r.a.createElement(de,e)}}))))}function fe(e){var t=e.component,a=Object(l.a)(e,["component"]);return r.a.createElement(pe.b,Object.assign({},a,{render:function(e){return u.isUserAuthenticated()?r.a.createElement(t,e):r.a.createElement(pe.a,{to:{pathname:"/login",state:{from:e.location}},push:!0})}}))}i.a.render(r.a.createElement(he,null),document.getElementById("root"))}},[[155,1,2]]]);
//# sourceMappingURL=main.ace52ae7.chunk.js.map