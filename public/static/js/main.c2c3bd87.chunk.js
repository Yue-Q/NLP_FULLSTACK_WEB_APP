(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,a){e.exports=a(298)},297:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),i=a(149),c=a(9),s=a(10),u=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"signin",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"signout",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),e}(),m=a(329),d=a(348),p=a(331),f=a(333),h=a(152),E=a(45),b=Object(m.a)(function(e){return Object(d.a)({root:{flexGrow:1}})});function g(){var e=b();return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(h.a,{variant:"h6",className:e.title},r.a.createElement(E.b,{style:{textDecoration:"none",cursor:"pointer",color:"white"},to:"/"},"Singularity System Inc. Coding Interview Project")))))}var v=function(e){return r.a.createElement("div",null,r.a.createElement(g,null),e.children)},x=a(18),y=a.n(x),w=a(30),k=a(150),N=a(40),j=a(336),O=a(337),S=a(347),C=a(339),T=a(340),F=a(338),W=a(335),P=a(26),R=a(4),q=a(13),I=a(24),D=a(334),A=a(147),U=a.n(A),L=a(148),B=a.n(L),J=function(e){return fetch(e.url,{method:e.method||"POST",body:JSON.stringify(e.body)||null,headers:{"Content-Type":"application/json","x-access-token":e.token||null}})},M=Object(R.a)(function(e){return{root:{backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),G=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorLink:{"&:hover":{color:"red",cursor:"context-menu"},fontWeight:600,textDecoration:"underline"},link:{"&:hover":{color:"red",cursor:"context-menu"},textDecoration:"underline"},linksContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},button:{root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}}}});function H(e){var t=G(),a=r.a.useState({password:"",showPassword:!1}),n=Object(N.a)(a,2),o=n[0],l=n[1],i=function(){l(Object(k.a)({},o,{showPassword:!o.showPassword}))},c=function(e){e.preventDefault()},s=function(){var t=Object(w.a)(y.a.mark(function t(a){var n,r;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J({url:"/user/login",method:"POST",body:a});case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).token?(u.signin(r.token),e.history.replace("/predict")):r.error&&alert(r.error);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),m=I.a().shape({password:I.b().required("Required"),userName:I.b().required("Required")});return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:t.paper},r.a.createElement(h.a,{component:"h1",variant:"h5"},"Log In"),r.a.createElement(q.c,{initialValues:{userName:"",password:""},validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var e=Object(w.a)(y.a.mark(function e(t,a){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.setSubmitting,setTimeout(function(){n(!1)},500),s(t);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:m},function(e){var a=e.submitForm,n=e.isSubmitting;e.touched,e.errors;return r.a.createElement(q.b,{className:t.form},r.a.createElement(S.a,{margin:2},r.a.createElement(q.a,{component:P.a,variant:"outlined",name:"userName",type:"text",label:"Username",autoFocus:!0,fullWidth:!0})),r.a.createElement(S.a,{margin:2},r.a.createElement(D.a,{fullWidth:!0},r.a.createElement(q.a,{component:P.a,variant:"outlined",name:"password",type:o.showPassword?"text":"password",label:"Password",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(F.a,{position:"end"},r.a.createElement(W.a,{onClick:i,onMouseDown:c},o.showPassword?r.a.createElement(U.a,null):r.a.createElement(B.a,null)))}}))),r.a.createElement(M,{variant:"contained",color:"primary",disabled:n,onClick:a,fullWidth:!0,className:t.submit},"Log In"),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0}),r.a.createElement(C.a,{item:!0},r.a.createElement(T.a,{component:E.b,variant:"body2",className:t.errorLink,to:{pathname:"/signup"}},"Don't have an account? Sign Up"))))})))}var V=a(84),Y=a.n(V),$=Object(R.a)(function(e){return{root:{color:"white",backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),z=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}},errorLink:{"&:hover":{color:"red",cursor:"context-menu"},fontWeight:600,textDecoration:"underline"}}});function K(){return r.a.createElement(h.a,{component:"h1",variant:"h4"},"Create Your Account")}var Q=I.a().shape({firstName:I.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),lastName:I.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),middleName:I.b().max(15,"Too Long!"),email:I.b().required("Required").email("Invalid Email"),phone:I.b().required("Required").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Invalid phone number"),mailAddress:I.b().required("Required"),occupation:I.b().required("Required"),userName:I.b().required("Required"),password:I.b().required("Required")});function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(w.a)(y.a.mark(function e(t){var a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.next=3,J({url:"/user/emailHasRegister",method:"POST",body:n});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.sent.result&&(a="Email already exists!"),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(w.a)(y.a.mark(function e(t){var a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:t},e.next=3,J({url:"/user/usernameHasRegister",method:"POST",body:n});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.sent.result&&(a="Username already exists!"),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e){var t=z(),a=(e.location.state||{from:{pathname:"/"}}).from,n=function(){var t=Object(w.a)(y.a.mark(function t(a){var n,r;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J({url:"/user/signup",method:"POST",body:a});case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).token&&(u.signin(r.token),e.history.replace("/predict"));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(O.a,{maxWidth:"md",className:t.paper},r.a.createElement(K,{className:t.formTitle}),r.a.createElement(q.c,{initialValues:{firstName:"",lastName:"",middleName:"",email:"",phone:"",mailAddress:"",occupation:"",userName:"",password:""},validateOnChange:!1,validateOnBlur:!1,onSubmit:function(e,t){var a=t.setSubmitting;setTimeout(function(){a(!1)},500),n(e)},validationSchema:Q},function(e){var n=e.submitForm,o=e.isSubmitting;e.touched,e.errors;return r.a.createElement(q.b,{className:t.form},r.a.createElement(Y.a,{bottom:!0,cascade:!0},r.a.createElement("div",null,r.a.createElement(S.a,{margin:2},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(q.a,{component:P.a,variant:"outlined",name:"firstName",type:"text",label:"First Name",placeholder:"Tom",autoFocus:!0,fullWidth:!0})),r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(q.a,{component:P.a,variant:"outlined",name:"middleName",type:"text",label:"Middle Name",placeholder:"M.",fullWidth:!0})),r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(q.a,{component:P.a,variant:"outlined",name:"lastName",type:"text",label:"Last Name",placeholder:"Smith",fullWidth:!0})))),r.a.createElement(S.a,{margin:2},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(q.a,{component:P.a,variant:"outlined",type:"text",label:"Occupation",name:"occupation",placeholder:"Student",fullWidth:!0})),r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(q.a,{component:P.a,variant:"outlined",type:"email",label:"Email",name:"email",placeholder:"info@singularitysystem.com",fullWidth:!0,validate:X})),r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(q.a,{component:P.a,variant:"outlined",type:"text",label:"Phone Number",name:"phone",placeholder:"9018970908",fullWidth:!0})))),r.a.createElement(S.a,{margin:2},r.a.createElement(q.a,{component:P.a,variant:"outlined",type:"text",label:"Mail Address",name:"mailAddress",placeholder:"47 W 13th St, New Jesery",fullWidth:!0})),r.a.createElement(S.a,{margin:2},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(q.a,{component:P.a,variant:"outlined",type:"text",label:"User Name",name:"userName",placeholder:"toms",validate:_,fullWidth:!0})),r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(q.a,{component:P.a,variant:"outlined",type:"text",label:"Password",name:"password",fullWidth:!0})))),r.a.createElement($,{variant:"contained",color:"primary",disabled:o,onClick:n,fullWidth:!0,className:t.submit},"Submit"),r.a.createElement(C.a,{container:!0,style:{justifyContent:"flex-end"}},r.a.createElement(C.a,{item:!0},r.a.createElement(T.a,{component:E.b,to:{pathname:"/login",state:{from:a}},variant:"body2",className:t.errorLink},"Already have an account? Sign In!"))))))}))}var ae=a(22),ne=a(7),re=a(21),oe=(r.a.Component,a(100)),le=a.n(oe),ie=(a(297),a(341)),ce=a(342),se=a(343),ue=a(301),me=a(344),de=a(345),pe=a(346),fe=(Object(R.a)(function(e){return{root:{color:"white",backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),Object(m.a)(function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}}}})),he=function(e){return r.a.createElement(ie.a,null,r.a.createElement(ce.a,{component:"th",scope:"row"},e.title,":"),r.a.createElement(ce.a,null,e.value))};function Ee(e){var t=fe(),a=Object(n.useState)({}),o=Object(N.a)(a,2),l=o[0],i=o[1],c=function(){var e=Object(w.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J({url:"/user/fetchUserInfo",method:"GET",token:u.getToken()});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a.user),i(a.user),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){c()},[]),r.a.createElement(O.a,{maxWidth:"xs",className:t.paper},r.a.createElement("h1",null,"User Information"),r.a.createElement(se.a,{component:ue.a},r.a.createElement(me.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(de.a,null,r.a.createElement(ie.a,null,r.a.createElement(ce.a,null,"Title"),r.a.createElement(ce.a,null,"Info"))),r.a.createElement(pe.a,null,r.a.createElement(he,{title:"Username",value:l.userName}),r.a.createElement(he,{title:"Full Name",value:"".concat(l.firstName," ").concat(l.middleName," ").concat(l.lastName)}),r.a.createElement(he,{title:"Occupation",value:l.occupation}),r.a.createElement(he,{title:"Email",value:l.email}),r.a.createElement(he,{title:"Mail Address",value:l.mailAddress})))),r.a.createElement(C.a,{container:!0,spacing:2,style:{marginTop:"10px"}},r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/resetPassword")},fullWidth:!0},"Reset Password")),r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"contained",color:"secondary",onClick:function(){u.signout(),e.history.replace("/")},fullWidth:!0},"Sign Out"))))}var be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(o)))).state={selectedFile:null,selectedFileContent:null,prediction:null,loading:!1,error:!1},a.onFileChange=function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){a.setState({selectedFileContent:e.target.result})},a.setState({selectedFile:e.target.files[0]}),n.readAsText(t)},a.onFileUpload=function(){var e=new FormData;e.append("myFile",a.state.selectedFile,a.state.selectedFile.name,a.state.selectedFile.file),console.log(a.state.selectedFile.file),le.a.post("api/uploadfile",e)},a.fileData=function(){if(a.state.selectedFile)return r.a.createElement("div",null,r.a.createElement("h2",null,"File Details:"),r.a.createElement("p",null,r.a.createElement("strong",null,"File Name:")," ",a.state.selectedFile.name),r.a.createElement("p",null,r.a.createElement("strong",null,"File content:"),r.a.createElement("br",null),a.state.selectedFileContent))},a.predict=function(){a.setState({loading:!0,prediction:null}),fetch("/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.selectedFileContent)}).then(function(e){return e.json()}).then(function(e){var t=e.prediction;a.setState({loading:!1,prediction:t})}).catch(function(e){return a.setState({loading:!1,error:!0})})},a}return Object(re.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement("h1",null,r.a.createElement(T.a,{onClick:function(){return e.props.history.push("/profile")}},"Go to profile page")),r.a.createElement("h1",null,"NLP Fake News Classifier"),r.a.createElement("h3",null,"Step 1. Upload your text file:"),r.a.createElement(j.a,{variant:"contained",component:"label",color:"primary",style:{marginRight:"10px",marginBottom:"10px"}},"Upload File",r.a.createElement("input",{type:"file",hidden:!0,onChange:this.onFileChange})),this.fileData(),r.a.createElement("h3",null,"Step 2. Predict:"),r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){return alert("Coming soon!")}}," Predict "),this.state.loading?r.a.createElement("h1",null,"Classifying ..."):"",this.state.error?r.a.createElement("h1",null,"ERROR"):"",r.a.createElement("h1",null,this.state.prediction))}}]),t}(r.a.Component);l.a.render(r.a.createElement(be,null),document.getElementById("root"));var ge=Object(R.a)(function(e){return{root:{backgroundColor:"#ef3e3d",borderRadius:"300px","&:hover":{opacity:"0.5",backgroundColor:"#ef3e3d"}}}})(j.a),ve=Object(m.a)(function(e){return{paper:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},formTitle:{justify:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{"&:hover":{color:"red",cursor:"context-menu"},fontWeight:600,textDecoration:"underline"},button:{root:{"&hover":{opacity:.3,backgroundColor:"#ef3e3d"}}}}});function xe(){return r.a.createElement(h.a,{component:"h1",variant:"h4"},"Reset Your Password")}function ye(e){var t=ve(),a=I.a().shape({password:I.b().required("Required")}),n=function(){var t=Object(w.a)(y.a.mark(function t(a){var n,r;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J({url:"/user/resetPassword",method:"PATCH",body:a,token:u.getToken()});case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).message?(alert(r.message),e.history.push("/profile")):r.error&&alert(r.error);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(O.a,{maxWidth:"xs",className:t.paper},r.a.createElement(xe,{className:t.formTitle}),r.a.createElement(q.c,{initialValues:{password:""},onSubmit:function(){var e=Object(w.a)(y.a.mark(function e(t,a){var r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.setSubmitting,setTimeout(function(){r(!1)},500),n(t);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:a},function(e){var a=e.submitForm,n=e.isSubmitting;e.touched,e.errors;return r.a.createElement(q.b,{className:t.form},r.a.createElement(Y.a,{bottom:!0,cascade:!0},r.a.createElement("div",null,r.a.createElement(S.a,{margin:2},r.a.createElement(q.a,{component:P.a,variant:"outlined",name:"password",type:"text",label:"New Password",autoFocus:!0,fullWidth:!0})),r.a.createElement(ge,{variant:"contained",color:"primary",disabled:n,onClick:a,fullWidth:!0,className:t.submit},"Reset Password"))))}))}var we=a(15);function ke(){return r.a.createElement(E.a,null,r.a.createElement(v,null,r.a.createElement(we.d,null,r.a.createElement(we.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(H,e)}}),r.a.createElement(we.b,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(te,e)}}),r.a.createElement(Ne,{exact:!0,path:"/predict",component:be}),r.a.createElement(Ne,{exact:!0,path:"/profile",component:Ee}),r.a.createElement(Ne,{exact:!0,path:"/resetPassword",component:ye}),r.a.createElement(we.b,{path:"/",render:function(e){return r.a.createElement(te,e)}}))))}function Ne(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(we.b,Object.assign({},a,{render:function(e){return u.isUserAuthenticated()?r.a.createElement(t,e):r.a.createElement(we.a,{to:{pathname:"/login",state:{from:e.location}},push:!0})}}))}l.a.render(r.a.createElement(ke,null),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.c2c3bd87.chunk.js.map